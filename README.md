# CRUDbrain API Server
The API node server for CRUDbrain!

## Team Members:
* Luke
* Olivia
* Juliet
* Rich
* Esther
* Pete

## [Trello](https://trello.com/b/LLXoi7N5/crud-brain)

## Description of Project:
The first mobile & human-friendly mind mapper

## Found @:
https://crudbrain.herokuapp.com/api/v1

## API Documentation
###/boards
####POST /boards
Request:
```javascript
{
  // Possible future name or user id string?
}
```
Response:
```javascript
{
  "__v": 0,                  // generated by MongoDB, ignore
  "fbId": "123456789",
  "_id": "lkj987689yafsd89", // MongoDB ObjectId
  "bubbles": [],
  "connections": []
}
```
####GET /boards/:id
Request: empty body.

Response:
```javascript
{
  "_id": "55710b225f229a074eb5fddd",
  "fbId": "123456789",
  "__v": 2,
  "connections": [
    {
      "startBubbleId": "978351yedfg980",
      "endBubbleId": "9788923edfg932",
      "_id": "55711c8cbc28c30d52fdec1c" // mongo id key
    }
    ...
  ],
  "bubbles": [
    {
      "bubbleId": "98723hooih2348", // bubble key for use in client/DOM
      "type": "image",
      "sourceUrl": "https://36.media.tumblr.com/f97ed685271cff72b1775bee1d88d79f/tumblr_noh0igEt541qz8jg7o4_400.jpg",
      "content": "help, I'm stuck in a bubble",
      "_id": "5571116e1578f5ea505fe932", // mongo id key
      "size": {
        "height": "91px",
        "width": "87px"
      },
      "location": {
        "top": 91,
        "left": 87
      }
    }
    ...
  ]
}
```
####PUT /boards/:id
Request:
```javascript
{
  "_id": "55710b225f229a074eb5fddd", // = same as url :id
  "fbId": "123456789",
  "__v": 2,
  "connections": [
    {
      "startBubbleId": "978351yedfg980",
      "endBubbleId": "9788923edfg932",
      "_id": "55711c8cbc28c30d52fdec1c" // leave out if creating connection, see below
    },
    {
      "startBubbleId": "978wer9io890weur0",
      "endBubbleId": "klsooiuiosdfsd",
      // no _id for new connection (generated in server by mongo)
    }
    ...
  ],
  "bubbles": [
    {
      "bubbleId": "98723hooih2348", // bubble key for use in client/DOM
      "type": "image",
      "sourceUrl": "https://36.media.tumblr.com/f97ed685271cff72b1775bee1d88d79f/tumblr_noh0igEt541qz8jg7o4_400.jpg",
      "content": "help, I'm stuck in a bubble",
      "_id": "5571116e1578f5ea505fe932", // leave out if creating bubble, see below
      "size": {
        "height": "91px",
        "width": "87px"
      },
      "location": {
        "top": 91,
        "left": 87
      }
    },
    {
      "bubbleId": "98723hooih2348", // bubble key for use in client/DOM
      "type": "image",
      "sourceUrl": "https://36.media.tumblr.com/f97ed685271cff72b1775bee1d88d79f/tumblr_noh0igEt541qz8jg7o4_400.jpg",
      "content": "help, I'm stuck in a bubble",
      // no _id for new bubble (generated in server by mongo)
      "size": {
        "height": "91px",
        "width": "87px"
      },
      "location": {
        "top": 91,
        "left": 87
      }
    }
    ...
  ]
}
```
Response:
```javascript
{
  "_id": "55710b225f229a074eb5fddd",
  "fbId": "123456789",
  "__v": 2,
  "connections": [
    {
      "startBubbleId": "978351yedfg980",
      "endBubbleId": "9788923edfg932",
      "_id": "55711c8cbc28c30d52fdec1c" // mongo id key
    }
    ...
  ],
  "bubbles": [
    {
      "bubbleId": "98723hooih2348", // bubble key for use in client/DOM
      "type": "image",
      "sourceUrl": "https://36.media.tumblr.com/f97ed685271cff72b1775bee1d88d79f/tumblr_noh0igEt541qz8jg7o4_400.jpg",
      "content": "help, I'm stuck in a bubble",
      "_id": "5571116e1578f5ea505fe932", // mongo id key
      "size": {
        "height": "91px",
        "width": "87px"
      },
      "location": {
        "top": 91,
        "left": 87
      }
    }
    ...
  ]
}
```
